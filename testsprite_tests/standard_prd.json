{
  "meta": {
    "project": "Fabric Roll Management System",
    "date": "2025-12-22",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "A web-based platform enabling administrators to manage customers, inventory, and order approvals, while allowing customers to authenticate, browse products, and place orders for fabric rolls.",
  "core_goals": [
    "Authenticate users securely via email and password.",
    "Enable administrators to create and manage customer accounts.",
    "Manage fabric inventory including product creation and stock levels.",
    "Allow customers to place orders consisting of multiple fabric rolls.",
    "Provide order approval workflow for administrators.",
    "Facilitate settlements and export of data for reporting purposes."
  ],
  "key_features": [
    "User Login with email/password authentication through Supabase Auth.",
    "Admin Dashboard to manage customers, inventory products, orders, and settlements.",
    "Customer Management allowing the creation and registration of new customers.",
    "Inventory Management to add new products and track total stock.",
    "Shop & Order functionality for customers to add fabric rolls to cart and place orders.",
    "Order Approval interface for admins to approve pending orders.",
    "Settlement management with features to export data to Excel."
  ],
  "user_flow_summary": [
    "User visits login page and submits email and password to authenticate.",
    "Admin accesses dashboard to create new customer accounts including contact details.",
    "Admin adds new fabric products specifying product details and stock quantities.",
    "Customer browses shop, adds multiple fabric rolls to cart, reviews cart, and places order.",
    "Admin reviews pending orders and approves them to proceed further.",
    "Admin manages settlements and exports reports for accounting and record-keeping."
  ],
  "validation_criteria": [
    "Successful login via Supabase Auth with valid credentials.",
    "Admin is able to create customer accounts with all required fields validated.",
    "Products can be added to inventory with accurate stock tracking.",
    "Customers can place orders which accurately capture items, quantity, and pricing.",
    "Orders move from pending to approved state upon admin approval.",
    "Exported Excel settlement reports correctly reflect the underlying data."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "Supabase",
      "Mantine UI"
    ],
    "features": [
      {
        "name": "User Login",
        "description": "Authenticates a user using email and password via Supabase Auth.",
        "files": [
          "src/app/login/actions.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/login": {
              "post": {
                "summary": "Login User",
                "requestBody": {
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Create Customer",
        "description": "Admin creates a new customer account using service role.",
        "files": [
          "src/app/admin/customers/actions.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/admin/customers/create": {
              "post": {
                "summary": "Create Customer",
                "requestBody": {
                  "content": {
                    "multipart/form-data": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "email": {
                            "type": "string"
                          },
                          "password": {
                            "type": "string"
                          },
                          "name": {
                            "type": "string"
                          },
                          "company": {
                            "type": "string"
                          },
                          "phone": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      {
        "name": "Create Order",
        "description": "Customer places an order for multiple fabric rolls.",
        "files": [
          "src/app/shop/actions.ts"
        ],
        "api_doc": {
          "openapi": "3.0.0",
          "paths": {
            "/shop/order": {
              "post": {
                "summary": "Create Order",
                "requestBody": {
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "items": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "productId": {
                                  "type": "string"
                                },
                                "quantity": {
                                  "type": "number"
                                },
                                "price": {
                                  "type": "number"
                                }
                              }
                            }
                          },
                          "note": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    ]
  }
}
